##
# {{ ansible_managed }}

{#
	All config from `postgresql.config`
#}
{% for key, value in postgresql.config.iteritems() %}
{{ key }} = '{{ value }}'
{% endfor %}

hba_file = '/etc/postgresql/{{ postgresql.version }}/main/pg_hba.conf'
ident_file = '/etc/postgresql/{{ postgresql.version }}/main/pg_ident.conf'
external_pid_file = '/var/run/postgresql/{{ postgresql.version }}-main.pid'
unix_socket_directories = '/var/run/postgresql'

{#
	SSL
#}
ssl = {{ postgresql.ssl }}
{% if postgresql.ssl == true %}
ssl_cert_file = '/etc/ssl/certs/ssl-cert-snakeoil.pem'
ssl_key_file = '/etc/ssl/private/ssl-cert-snakeoil.key'
{% endif %}

log_line_prefix = '%t '
log_timezone = 'UTC'

datestyle = 'iso, dmy'

{#
	locale for:
	* system error message
	* monetary formatting
	* number formatting
	* time formatting
#}
lc_messages = '{{ postgresql.locale }}'
lc_monetary = '{{ postgresql.locale }}'
lc_numeric = '{{ postgresql.locale }}'
lc_time = '{{ postgresql.locale }}'

default_text_search_config = 'pg_catalog.english'
